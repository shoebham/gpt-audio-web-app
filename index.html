<!DOCTYPE html>
<html>

<head>
    <title>Speech-to-Text</title>
</head>

<body>
    <h1>Speech-to-Text</h1>
    <button id="startButton">Start Recording</button>
    <button id="stopButton">Stop Recording</button>
    <div id="transcript"></div>

    <script>
        const startButton = document.getElementById('startButton');
        const stopButton = document.getElementById('stopButton');
        const transcriptDiv = document.getElementById('transcript');
        let recognition;

        startButton.addEventListener('click', () => {
            startRecording();
        });

        stopButton.addEventListener('click', () => {
            stopRecording();
        });

        function startRecording() {
            recognition = new webkitSpeechRecognition();
            recognition.lang = 'en-US';
            recognition.continuous = true;
            recognition.interimResults = true;

            recognition.onstart = () => {
                console.log('Recording started');
            };

            recognition.onresult = (event) => {
                const result = event.results[event.results.length - 1];
                const transcript = result[0].transcript;
                transcriptDiv.textContent = transcript;
            };

            recognition.onerror = (event) => {
                console.error('Speech recognition error:', event.error);
            };

            recognition.start();
            startButton.disabled = true;
            stopButton.disabled = false;
        }

        function stopRecording() {
            if (recognition) {
                recognition.stop();
                recognition = null;
                startButton.disabled = false;
                stopButton.disabled = true;
            }
        }
    </script>
</body>

</html>